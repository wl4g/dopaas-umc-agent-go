UMC 它是一个轻量级基于SpringBoot Cloud开发完全开源的统一监控告警平台，也是Super DevOps平台中的核心子系统之一

English version goes [here](README_EN.md).

#### 为什么要创造它？
虽然，目前有流行的开源监控告警解决方案，如：zabbix、prometheus+grafana，
- zabbix还是相对比较传统，更偏向于静态服务的监控，在当下这docker横行的动态服务世界里貌似显得你不从心；

- grafana界面设计非常棒，也提供了较灵活性的Dashboard配置，但若直接用于企业生产环境还存在一些问题，如：无支持多租户(作者目前负责
的某物联网paas/saas云平台，多租户是必须阿)，好像也没有较好HA方案；

- prometheus的话生态发展的比较广，其中最吸引架构人的地方，即：看的眼花缭乱的各种xx_exporter插件，貌似目前流行的开源中间件、数据库等metric
都有被他集成，同时它也有集群方案，但在大规模部署时还存在一些问题，最突出的问题就是Prometheus并没有成熟的分
布式方案，性能遇到单机瓶颈之后只能手动给业务划分集群并且之间的数据不能共享，然后拉模式在兼容多数据源上也显得力不从心，
比如我们有场景需要指定精确的时间，还有比如我们有些数据是从日志来的或是从Kafka来的，这些都没有现成的方案，
同时服务端纯go语言编写，与Java的生态及扩展性无法匹敌（至少站在企业老板角度招一个稍好点的java比go容易很多），
，自定义灵活的规则告警或整合spark/ML等实现无阀值智能告警，等二次开发可能没有java便捷，同时采用pull模型在实现认证
方面并没有push模型容易(因为每个exporter都需暴漏一个端口，而pull只需在umc服务端暴漏
一个端口即可)，pull模型在大规模监控时，定时拉取expoter指标的线程池必然对服务端进程造成较大负担.

- UMC自研push模型无需维护pull模型所需线程池，服务端负担小，直接负载均衡部署即可，支持的第三方服务监控种类
也可丰富，且只有一个umc-agent可执行文件的客户端，安装起来不能更简单，在配置更新方面也支持动态热更新（如更新采集时间间隔），
后端基于springcloud，扩展性就不用担心了，二次开发也非常容易，老板视角：很容易找到稍好点的java就能维护起来！

#### 菜单
- 概览(主页)
- 监控历史
- 模版配置
- 报警配置(规则)

####概览(主页)
- 显示appGroup列表以及warn数量

####监控历史
- 应用组->环境->实例  多级联动,实例可多选
- 下面显示各指标图表(例如 cpu,mem,disk,net,docker),这些指标根据模版的配置来

####模版配置
- 主模版(相当于一个图)

```
[模版名称]    [id]
 net         1
```

- 指标(相当于是图上的一条线)

```
[模版id]    [指标名]    [Metric]        [Tags]
  1         网络上行    basic.net.up    id=10.0.0.160,port=14044
  1         网络下行    basic.net.down  id=10.0.0.160,port=14044
```

####报警配置
- 基础信息

```
[id]    [名称]    [应用组]    [实例]
```

- 规则信息

```
[基础信息id][规则id][规则名] [Metric]   [Tags]           [生效时间]
  1			 2    cpu监控	 basic.cpu	id=10.0.0.160    00:00-23:59

```

- 条件信息
<!--当cpu使用率连续5次平均值大于等于90-->
```
[规则id]   [条件id]  [When]  [condition]   [value]  [times]
  2        1        avg()    >=            90		5
```

- 静默配置
<!-- 该规则在生效时间内(00:00-06:00)连续触发30分钟,则暂时不告警 -->
```
[规则id] [去重周期]   [生效时间]
  2      30min      00:00-06:00
```



